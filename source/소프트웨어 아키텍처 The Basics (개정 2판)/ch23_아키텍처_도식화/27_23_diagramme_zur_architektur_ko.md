---
lang: ko
format:
  html:
    toc: true
    toc-location: left
    toc-depth: 3
    theme: cosmo
    embed-resources: true
    code-fold: true
    code-tools: true
    smooth-scroll: true
    css: |
      body {
        margin-top: 0 !important;
        padding-top: 0 !important;
      }
      #quarto-header {
        display: none !important;
      }
      .quarto-title-block {
        display: none !important;
      }
      /* Center content with equal padding */
      body, #quarto-content, .content, #quarto-document-content, main, .main {
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 auto !important;
        padding-left: 1em !important;
        padding-right: 1em !important;
        box-sizing: border-box !important;
      }
      .container, .container-fluid, article {
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 auto !important;
        padding-left: 1em !important;
        padding-right: 1em !important;
        box-sizing: border-box !important;
      }
---

# 23장. 아키텍처 다이어그램 (Kapitel 23. Diagramme zur Architektur)

이 작업은 AI를 사용해 번역되었습니다. 피드백이나 의견이 있으면 [translation-feedback@oreilly.com](mailto:translation-feedback@oreilly.com)으로 알려 주세요.

새로 임명된 소프트웨어 아키텍트(Softwarearchitekten)는 이 역할을 맡을 때 가져온 기술적 지식과 경험과는 별개로, 업무가 얼마나 다양한지를 종종 보고 놀랍니다. 특히 효과적인 커뮤니케이션은 아키텍트의 성공을 좌우합니다. 기술적 아이디어가 아무리 뛰어나더라도 그 아이디어에 투자하도록 관리자를 설득하지 못하고 이를 구현하도록 개발자를 설득하지 못한다면 그 뛰어남은 결코 드러나지 않습니다.

다이어그램(Diagramme)을 만드는 일은 아키텍트에게 중요한 커뮤니케이션 역량입니다. 이 주제를 다룬 책도 많지만, 여기서는 특별히 강조하고 싶은 몇 가지 하이라이트만 소개합니다.

아키텍처를 시각적으로 설명하려면 아키텍트는 종종 여러 관점을 보여 주어야 합니다. 예를 들어 전체 토폴로지를 개괄하는 것으로 시작한 다음 아키텍처 특정 부분의 세부 내용으로 파고들 수 있습니다. 그러나 전체 아키텍처 안에서의 위치를 설명하지 않은 채 어떤 부분만 보여 주면 보는 사람들은 혼란을 느낍니다.

*표현의 일관성(Konsistenz in der Darstellung)*은 시점을 바꾸기 전에 항상 아키텍처 각 부분 사이의 관계를 보여 주어야 함을 의미하며, 이는 다이어그램과 프레젠테이션 모두에서 중요합니다. 예를 들어 실리콘 샌드위치(Silicon Sandwiches) 솔루션의 플러그인(Plug-in)이 서로 어떻게 연결되는지를 자세히 설명하고 싶다면, 먼저 시스템 전체의 토폴로지를 보여 주는 아키텍처 다이어그램과 그 토폴로지와 플러그인 구조 사이의 관계를 제시한 뒤에 플러그인 구조 자체를 설명해야 합니다. [그림](#page-2-0) 23-1은 그 예입니다.

<span id="page-2-0"></span>![](_page_2_Picture_0.jpeg)

그림 23-1. 더 큰 다이어그램 안에서 맥락을 제공하기 위한 표현 일관성의 사용

표현을 일관되게 유지하면 보는 사람이 무엇의 범위가 표현되고 있는지 이해하게 되어, 흔히 발생하는 혼란의 원인을 제거할 수 있습니다.

# 다이어그램 (Diagramme)

아키텍처의 토폴로지는 구조가 어떻게 맞물리는지 보여 주고 팀이 귀중한 공동 이해를 구축하도록 돕기 때문에 아키텍트와 개발자 모두에게 언제나 관심사입니다. 우리는 모든 아키텍트가 자신의 다이어그램 역량을 연마하라고 권합니다.

## **도구 (Werkzeuge)**

요즘 세대의 아키텍트용 다이어그램 도구는 매우 강력하므로, 각 아키텍트는 자신이 선택한 도구를 철저히 익혀야 합니다. 그러나 특히 설계 초기에 저품질(low-fidelity) 산출물을 소홀히 해서는 안 됩니다. 매우 일시적인 산출물을 일찍 만들어 두면, 우리가 *비합리적 산출물 집착(Irrational Artifact Attachment)*이라고 부르는 행동 패턴, 즉 아키텍트가 자신이 만든 것에 과도하게 집착하는 일을 막을 수 있습니다.

#### **비합리적 산출물 집착 (IRRATIONALE ARTEFAKTBEFESTIGUNG)**

비합리적 산출물 집착 패턴은 사람이 산출물을 만드는 데 들인 시간과 그 산출물에 대한 비합리적 집착 사이의 관계를 설명합니다. 아키텍트가 Visio 같은 도구로 아름다운 다이어그램을 만드는 데 네 시간을 투자했다면, 두 시간만 들였을 때보다 그 산출물에 훨씬 더 비합리적으로 집착하게 됩니다.

소프트웨어 개발에서 애자일 접근법의 장점 중 하나는 가능한 한 적은 의식과 의례로 "적시(just-in-time)"에 산출물을 만들도록 요구한다는 점입니다. 많은 애자일 실무자가 카드나 접착 메모를 사랑하는 이유도 여기에 있습니다. 저기술 도구를 사용하면 잘못된 것을 미련 없이 버릴 수 있으므로, 실험을 통해 지속적인 다듬기, 협업, 논의를 거쳐 산출물의 진짜 본질을 찾아갈 수 있습니다.

고전적인 일시적 산출물은 화이트보드 다이어그램을 찍은 휴대폰 사진(그리고 거의 항상 따라오는 "지우지 마세요"라는 부탁)입니다. 요즘 많은 아키텍트는 화이트보드 대신 오버헤드 프로젝터와 연결된 태블릿을 사용합니다. 이 방식에는 여러 장점이 있습니다. 첫째, 태블릿은 캔버스 크기에 제한이 없어 팀이 원하는 만큼 도면을 담을 수 있습니다. 둘째, 태블릿에서는 화이트보드였다면 원본을 가릴 "만약~라면" 시나리오를 복사해 붙여 넣을 수 있습니다. 셋째, 태블릿에서 만든 이미지는 이미 디지털 형태이므로 화이트보드 사진 특유의 눈부심이 없습니다. 넷째, 전자 이미지를 사용하면 원격으로 함께 작업하기 훨씬 쉽고 협업적입니다.

결국에는 멋진 도구로 깔끔한 다이어그램을 만들어야 하겠지만, 그 시간을 들이기 전에 반드시 팀이 설계를 충분히 다듬었는지 확인해야 합니다. 어떤 플랫폼을 사용하든 강력한 다이어그램 도구를 찾을 수 있습니다. 우리는 이 책에 있는 모든 다이어그램의 초안을 [OmniGraffle](https://oreil.ly/fEoKR)로 만들었고, 이후 O'Reilly 일러스트레이터가 이를 다듬었습니다. 특정 도구를 다른 도구보다 특별히 선호하지는 않지만, 다음 기능들이 있는지 확인하라고 권합니다.

#### *레이어 (Lagen)*

그림 도구는 종종 레이어를 지원하며, 아키텍트는 이를 잘 활용할 수 있어야 합니다. 레이어를 사용하면 요소 그룹을 논리적으로 묶고 필요에 따라 보이거나 숨길 수 있습니다. 예를 들어 프레젠테이션용으로 전체적인 다이어그램을 만든 뒤, 당장 다루지 않는 압도적인 세부 정보는 숨길 수 있습니다. 레이어는 이미지를 단계적으로 구축하면서 보여 주는 좋은 방법이기도 합니다.

#### *템플릿 (Schablonen/Templates)*

템플릿 도구를 사용하면 사용자는 다른 기본 도형으로 구성된 일반적인 시각 요소 라이브러리를 만들 수 있습니다. 예를 들어 이 책에 등장하는 단일 마이크로서비스 표준 아이콘은 저자들이 템플릿 도구에 단일 요소로 저장해 둔 것입니다. 조직 내에서 자주 쓰는 패턴과 산출물을 위한 템플릿 집합을 만들어 두면 모든 아키텍처 다이어그램에서 일관성을 유지할 수 있고, 새로운 다이어그램도 더 빨리 만들 수 있습니다.

#### *마그넷 (Magnete)*

많은 그림 도구는 도형 사이에 선을 그을 때 맞추기를 지원합니다. *마그넷*은 선이 자동으로 끌려가 정렬되는 지점을 나타내고, 정렬 등 시각적인 편의를 제공합니다. 일부 도구는 더 많은 마그넷을 추가하거나 직접 만들 수 있도록 해 줍니다.

#### **레이어를 장식이 아니라 의미 있게 사용하라 (EBENEN SEMANTISCH NUTZEN, NICHT DEKORATIV)**

우리는 레이어를 지원하는 그림 도구를 선호하지만, 레이어를 전체 그림에 의미를 부여하는 *의미적(semantisch)* 방식으로 사용하라고 권합니다. 예를 들어 모든 다이어그램의 기본 레이어는 아키텍처의 토폴로지를, 즉 컨테이너, 데이터베이스, 의존성, 브로커와 같은 핵심 요소를 나타내야 합니다. 이 레이어는 구현보다는 아키텍처 자체에 집중해야 하므로, 특정 프로토콜 이름 대신 "동기 통신"처럼 의미를 표시하면 됩니다. 다음 레이어는 어떤 유형의 데이터베이스인지, 어떤 통신 프로토콜을 사용하는지 등 구현 세부 정보를 담아야 합니다.

이런 방식으로 레이어를 사용하면 다이어그램이 확장 가능합니다. 도메인별 설계 경계, 트랜잭션 영역, 혹은 아키텍트가 아키텍처 토폴로지와 나란히 보여 주고 싶은 다른 메타 정보를 나타내는 맥락화된 레이어를 추가하는 것이 가능하기 때문입니다.

이와 같은 특화 기능 외에도 도구는 선, 색상, 도형 같은 기본 기능을 지원해야 하고, 다양한 형식으로 내보낼 수 있어야 합니다.

**다이어그램 표준: UML, C4, ArchiMate**

소프트웨어 업계에서는 기술 다이어그램을 위한 여러 공식 표준을 사용합니다. 여기서는 그중 인기 있는 세 가지를 살펴봅니다.

#### **UML**

Grady Booch, Ivar Jacobson, Jim Rumbaugh는 1980년대에 서로 경쟁하던 설계 철학을 통합하기 위해 유니파이드 모델링 언어(UML)를 만들었습니다. UML은 모든 장점을 한데 모으려 했지만, 다른 많은 위원회 제작물처럼 조직에서 사용을 강제하지 않는 한 널리 퍼지는 데 실패했습니다. 아키텍트와 개발자는 여전히 구조와 워크플로를 전달하기 위해 UML 클래스 및 시퀀스 다이어그램을 사용하지만, 다른 대부분의 UML 다이어그램 유형은 잊혀졌습니다.

#### **C4**

C4는 2006년부터 2011년 사이 Simon Brown이 UML의 한계를 보완하고 현대화하기 위해 개발한 다이어그램 기법입니다. C4의 "네 개의 C"는 다음과 같습니다.

#### *컨텍스트 (Kontext)*

시스템의 전체 맥락, 사용자의 역할과 외부 의존성을 포함합니다.

#### *컨테이너 (Container)*

아키텍처 내부의 물리적(종종 논리적) 배포 경계와 컨테이너를 보여 줍니다. 이 관점은 운영팀과 아키텍트가 대화하기에 좋은 지점입니다.

#### *컴포넌트 (Komponente)*

시스템의 컴포넌트 관점으로, 아키텍트가 시스템을 바라보는 방식에 가장 가깝습니다.

#### *클래스 (Klasse)*

C4는 검증된 UML 클래스 다이어그램 스타일을 그대로 사용하므로 굳이 대체할 이유가 없습니다.

C4는 다이어그램 기법을 표준화하려는 모든 조직에 훌륭한 대안입니다. 이 기법의 창시자들은 수년 동안 활발히 활동하며 많은 팬층을 만들었고, 소프트웨어 개발 생태계의 변화에 발맞춰 새로운 가능성을 포용하도록 확장해 왔습니다. 많은 다이어그램 도구에 C4 다이어그램 템플릿이 포함되어 있으며 [C4 생태계](https://c4model.com/)에는 아키텍트를 지원하는 도구와 프레임워크가 있습니다. C4는 컴포넌트, 선, 컨테이너, 데이터베이스 및 다른 공통 산출물을 위한 표준을 정의합니다.

[그림](#page-10-0) 23-2는 실리콘 샌드위치 모놀리스 데이터 설계를 C4 다이어그램으로 보여 줍니다.

![](_page_10_Figure_0.jpeg)

### **ArchiMate**

ArchiMate(Architecture와 Animate의 합성어)는 더 오픈 그룹(The Open Group)이 만든 오픈 소스 기업 아키텍처 모델링 언어로, 다양한 사업 부문 내부 및 부문 간의 아키텍처를 설명, 분석, 시각화할 수 있도록 해 줍니다. ArchiMate는 기업 생태계에 사용할 수 있는 더 가벼운 모델링 언어를 제공합니다. 이 기술 표준의 목표는 "가능한 한 작게" 유지해 모든 모서리 경우를 다루지 않는 것입니다. 그래서 아키텍트들이 선호하는 선택지입니다.

## **다이어그램 지침 (Diagramm Leitlinien)**

아키텍트는 공식 언어를 사용하든 자체 모델링 언어를 사용하든 각자만의 다이어그램 스타일을 개발해야 합니다. 특히 효과적이라고 생각하는 표현을 참고하는 것은 괜찮습니다. 이 절에서는 기술 다이어그램을 만들 때 사용할 수 있는 일반 지침을 소개합니다.

#### **제목 (Titel)**

청중이 매우 익숙한 요소가 아니라면 모든 다이어그램 요소에 제목을 붙이십시오. 제목을 적절한 위치에 "붙여" 두기 위해 회전이나 다른 효과를 적극적으로 활용해 공간을 효율적으로 사용하십시오.

#### **선 (Zeilen)**

선은 충분히 굵어서 잘 보여야 합니다. 선이 정보 흐름을 나타낸다면 화살표를 사용해 방향이나 양방향 교통을 표시하십시오. 서로 다른 유형의 화살표 머리는 서로 다른 의미를 가질 수 있지만, 반드시 일관성을 유지하십시오.

아키텍처 다이어그램의 몇 안 되는 일반적인 표준 가운데 하나는 실선은 거의 항상 동기식 통신을, 점선은 비동기식 통신을 나타낸다는 점입니다.

#### **도형 (Formen)**

우리가 설명한 공식 모델링 언어에는 표준 도형이 있지만, 소프트웨어 개발 세계 전체에 통용되는 표준 도형 집합은 없습니다. 대부분의 아키텍트는 자신의 표준 도형을 만들고, 때로는 조직 전체가 이를 채택해 표준 언어를 만듭니다.

우리는 일반적으로 3차원 상자를 배포 가능한 산출물에, 직사각형을 컨테이너에, 실린더를 데이터베이스에 사용하지만 그 이상의 특별한 키는 없습니다.

### **레이블 (Etiketten)**

혼란의 여지가 있을 때는 특히 모든 다이어그램 요소에 레이블을 붙이는 것이 중요합니다.

### **색상 (Farbe)**

아키텍트는 종종 색상을 충분히 사용하지 않습니다. 많은 책이 오랫동안 흑백 인쇄를 강요받았기 때문에 아키텍트와 건축가는 단색 그림에 익숙해졌습니다. 우리도 여전히 흑백을 선호하지만, 한 산출물을 다른 산출물과 구분하는 데 도움이 된다면 색상을 사용합니다. 예를 들어 [19장](#page--1-0)에서 퀀텀 마이크로서비스(Quantum Microservices) 아키텍처를 다룰 때, [그림](#page--1-0) 19-6(여기서는 [그림](#page-14-0) 23-3으로 재수록됨)에서는 그룹화를 표시하기 위해 회색조를 사용합니다.

![](_page_14_Figure_0.jpeg)

그러나 중요한 차이를 표시하기 위해 색상을 사용할 때는 주의하십시오. 색맹이거나 다른 시각 장애가 있는 사람은 차이를 알아차리지 못합니다. 우리는 색상과 함께 고유한 기호 체계를 사용해, 색상을 구분하지 못하는 사람도 의미를 이해할 수 있도록 하라고 권합니다. 예컨대 모든 교차로의 신호등은 Go에 녹색, Stop에 빨간색을 쓰지만, 각 색상에 명확한 위치나 기호도 함께 제공합니다.

#### **키(범례) (Schlüssel)**

도형이 어떤 이유로든 모호하다면 각 도형이 무엇을 나타내는지 명확히 설명하는 범례를 추가하십시오. 쉽게 오해될 수 있는 다이어그램은 아예 없는 것보다 더 나쁩니다.

# 요약 (Zusammenfassung)

다이어그램 표준은 조직이 일관된 커뮤니케이션을 유지하도록 돕는 유용한 방법입니다. 그러나 표준이 설계를 표현할 좋은 수단을 제공하지 못할 때 아키텍트는 흔히 규칙을 어깁니다. 우리는 조직이 표준을 마련하되, 합리적인 예외를 허용하라고 권합니다.

과거에는 컴퓨터 지원 소프트웨어 개발(computer-aided software engineering, CASE) 같은 중량급 도구가 일반적이었기 때문에 아키텍트는 단순한 내용을 표현하려고도 복잡한 모델을 만들어야 했습니다. 그러다 보니 특정 맥락에서는 잡음에 불과한 쓸모없는 세부 정보를 잔뜩 포함해야 했습니다. 우리는 특히 설계 초기에 가벼운 다이어그램 도구와 빠르게 만들 수 있는 산출물을 선호합니다. 다만 자신의 창작물에 지나치게 빠져 객관성을 잃지 않도록 주의하십시오.

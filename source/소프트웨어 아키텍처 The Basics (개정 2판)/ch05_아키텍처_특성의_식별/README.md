# ch05 아키텍처 특성의 식별

## 요약

**소프트웨어 아키텍트**는 성공적인 시스템을 구축하기 위해 **비즈니스 요구사항**을 기술적인 **아키텍처 특성**(소위 "-ilities")으로 번역하는 핵심적인 역할을 맡는다. 아키텍처 특성은 도메인 관심사, 명시적 프로젝트 요구사항, 그리고 아키텍트의 암묵적 도메인 지식이라는 세 가지 경로를 통해 도출되며, 이해관계자(시장 출시 시간, 사용자 만족도)와 아키텍트(확장성, 상호운용성)가 사용하는 언어 차이를 해소해야 한다.

직접 측정하기 힘든 **민첩성(Agility)** 과 같은 복합 특성은 **배포성(Deployability)**, **모듈성(Modularity)**, **테스트 용이성(Testability)** 등 측정 가능한 하위 요소로 분해해야 한다. 그렇지 않으면 시스템의 필수 특성을 놓칠 위험이 있다. 아키텍트의 실무 감각을 단련하는 **아키텍처 카타(Architecture Katas)** 는 주어진 비즈니스 설명문에서 핵심 특성을 도출하도록 훈련한다.

궁극적으로 아키텍처 설계는 지속적인 **트레이드오프 분석**이다. 기능을 구조적 요소로 승격할지, 애플리케이션 설계 패턴으로 해결할지 결정해야 한다. 스웨덴 전함 **바사(Vasa)** 의 사례는 과도한 요구사항이 어떻게 프로젝트 실패로 이어지는지를 보여준다. 따라서 이해관계자와 협력해 상위 3가지 특성을 정하고 여기에 집중하는 것이 성공적인 설계의 핵심이다.

![아키텍처 특성의 식별 인포그래픽](unnamed.png)

---

## 아키텍처 특성 도출의 세 가지 출발점

아키텍처를 수립하거나 기존 시스템을 검증할 때, 아키텍트는 **아키텍처 특성**과 도메인을 함께 분석한다. 대개 다음 세 가지 출발점을 통해 필요한 특성이 정의된다.


### 1. 도메인 관심사 (Domain Concerns)

대부분의 특성은 이해관계자와의 대화를 통해 드러난다. 아키텍트(확장성, 상호운용성)와 이해관계자(인수합병, 사용자 만족도)는 서로 다른 언어를 쓰므로 비즈니스 목표를 기술적 특성으로 번역할 수 있어야 한다.

| **도메인 관심사** | **관련 아키텍처 특성** |
| --- | --- |
| 인수합병 (Mergers and Acquisitions) | 상호운용성, 확장성, 적응성 |
| 시장 출시 시간 (Time to Market) | 민첩성, 테스트 용이성, 배포성 |
| 사용자 만족도 (User Satisfaction) | 성능, 가용성, 내결함성, 테스트 용이성, 배포성, 민첩성, 보안 |
| 경쟁 우위 (Competitive Advantage) | 민첩성, 테스트 용이성, 배포성, 확장성, 가용성, 내결함성 |
| 시간 및 예산 (Time and Budget) | 단순성, 실현 가능성 |

### 2. 프로젝트 요구사항 (Project Requirements)

예상 사용자 수나 처리량 같은 명시적 수치는 요구사항 문서에서 직접 도출되며, 특정 특성(성능, 가용성 등)을 정의하는 가장 직접적인 단서가 된다.

### 3. 암묵적 도메인 지식 (Implicit Domain Knowledge)

모든 요구사항이 문서화되지는 않는다. 경험 많은 아키텍트는 도메인 지식을 활용해 숨은 요구를 찾는다. 예컨대 대학 수강신청 시스템은 마감 직전 트래픽 폭증을 예상하고 설계해야 하는데, 이는 암묵적 지식에서 비롯된다.

---

## 복합 아키텍처 특성 분석

객관적 정의 없이 여러 요소로 이루어진 '복합' 특성(예: **민첩성**)은 측정 가능한 요소로 분해해야 한다. 단일 특성만 강조하면 치명적인 결함이 발생할 수 있다. 예를 들어 "마감 시 펀드 가격을 정시에 확정해야 한다"는 요구를 듣고 성능에만 집중하면 다음을 간과하게 된다.

- **가용성**: 시스템이 아무리 빨라도 필요할 때 접근하지 못하면 의미가 없다.
- **확장성**: 비즈니스 성장이 예상되면 늘어나는 부하를 감당해야 한다.
- **신뢰성**: 가격 계산 중 시스템이 다운되면 업무가 중단된다.
- **복구성**: 85% 지점에서 실패해도 중단된 지점부터 재시작할 수 있어야 한다.
- **검증 가능성**: 빠르기만 해서는 안 되며, 계산 결과를 검증할 수 있어야 한다.

이처럼 비즈니스 목표는 종종 복합 특성으로 표현되며, 이를 분해하고 객관적인 정의를 부여하는 일이 아키텍트의 핵심 과제다.

---

## 실습 방법론: 아키텍처 카타

테드 뉴어드(**Ted Neward**)는 아키텍트 지망생이 목표 지향적 설명문에서 특성을 도출하는 연습을 하도록 **아키텍처 카타**를 고안했다. 소규모 팀이 제한된 시간 동안 설계(특성 분석과 다이어그램 포함)를 수행하고 결과를 공유하며 최적의 아키텍처를 토론하는 방식이다.

각 카타는 다음과 같은 표준 섹션으로 구성된다.

- **설명 (Description)**: 시스템이 해결해야 할 전반적인 문제.
- **사용자 (Users)**: 예상 사용자 수 또는 유형.
- **요구사항 (Requirements)**: 도메인 전문가와 사용자가 제시하는 비즈니스 요구.
- **추가 컨텍스트 (Additional Context)**: 요구사항에는 없지만 설계에 영향을 주는 고려사항.

---

## 사례 연구: 실리콘 샌드위치 카타 (Silicon Sandwiches Kata)

이 카타는 전국적인 샌드위치 가게가 온라인 주문 시스템을 도입하는 시나리오다.

- **설명**: 기존 전화 주문 외에 온라인 주문 기능 제공.
- **사용자**: 현재 수천 명, 잠재적으로 수백만 명.
- **요구사항**:
  - 온라인 주문과 픽업/배달 선택 기능.
  - 픽업 시간과 매장 길 안내(외부 지도·교통 정보 연동).
  - 배달 서비스.
  - 모바일 기기 접근성.
  - 전국·지역별 일일 프로모션.
  - 온라인/매장/배달 시 결제 허용.
- **추가 컨텍스트**:
  - 매장은 각기 다른 소유주의 프랜차이즈.
  - 해외 진출 계획 보유.
  - 저임금 노동력 활용을 통한 이윤 극대화 목표.

### 명시적 특성 도출

- **확장성 (Scalability)**: "현재 수천 명, 잠재적으로 수백만 명"이라는 사용자 수가 명시한다.
- **성능 (Performance)**: 피크 시간대에도 쾌적한 사용자 경험을 제공해야 한다.
- **적응성 (Adaptability)**: 지역별 프로모션과 위치 기반 정보가 요구된다.
- **국제화 (Internationalization, i18n)**: 해외 진출 계획이 직접적인 근거다.

### 암묵적 특성 도출

- **탄력성 (Elasticity)**: 점심/저녁에 폭증하는 주문을 처리해야 한다.
- **가용성 (Availability)·안정성 (Stability)**: 언제든 접속 가능하고 상호작용 중 연결이 끊기지 않아야 한다.
- **보안 (Security)**: 제3자 결제 시스템을 사용하더라도 기본 보안 수칙을 준수해야 한다.
- **실현 가능성 (Feasibility)**: 프랜차이즈 모델과 비용 제약은 단순하거나 희생적인(sacrificial) 아키텍처를 정당화할 수 있다.

> **핵심 인용구**: "아키텍처에는 잘못된 답은 없고 비싼 답만 있을 뿐이다." — Markus

---

## 설계 대 아키텍처: 트레이드오프 분석

실리콘 샌드위치 카타에서 **적응성**을 구현하려면 두 가지 길이 있다. 하나는 **마이크로커널** 같은 아키텍처 스타일로 구조적으로 지원하는 것이고, 다른 하나는 **템플릿 메서드(Template Method)** 등 설계 패턴으로 애플리케이션 수준에서 해결하는 것이다. 어떤 선택이 옳은지는 상황에 따라 달라지며, 아키텍트는 다른 특성과의 충돌, 구현 비용, 복잡도를 고려한 **트레이드오프 분석**을 수행해야 한다. 결정은 개발자나 도메인 분석가 등 실행 조직과 협력해 내려야 하며, 격리된 **상아탑 아키텍처**는 금물이다.

---

## 특성 제한 및 우선순위 지정

이해관계자와 특성을 정의할 때 목록을 가능한 짧게 유지하는 것이 중요하다. 모든 특성을 지원하려는 범용 아키텍처는 필연적으로 과도한 복잡성을 낳는다.

### 사례: 바사(Vasa)호

17세기 스웨덴 전함 **바사호**는 과도한 특성 요구가 어떻게 실패로 이어지는지 보여준다. 국왕의 명령으로 병력 수송과 포함 기능을 모두 탑재하고, 갑판을 둘로 늘리고, 대포를 두 배로 키웠다. 전문가의 우려에도 건조가 강행되었고, 바사호는 첫 항해에서 포문을 열자마자 무게 중심을 잃고 침몰했다. 이해관계자에게 필요한 특성을 묻는다면 항상 "모두"라는 답이 돌아오므로, 아키텍트는 핵심 특성을 식별하고 우선순위를 정할 방법론을 갖춰야 한다.

---

## 아키텍처 특성 워크시트

대화형 세션을 통해 특성을 도출하고 우선순위를 정할 때 다음 워크시트를 활용할 수 있다.

1. **주요 특성 (Driving characteristics)**: 구조적 결정을 이끌 핵심 특성을 7개 내외로 제한해 나열한다.
2. **암묵적 특성 (Implicit characteristics)**: 실현 가능성, 보안, 유지보수성, 관찰 가능성처럼 거의 모든 시스템에 필요한 특성을 별도 목록으로 유지한다. 이 중 핵심 동인이 되면 주요 특성으로 승격한다.
3. **상위 3가지 선택 (Top 3)**: 주요 특성 중에서 가장 중요한 3가지를 순서와 무관하게 선택한다. 순위화를 강요하는 것보다 합의에 도달하기 쉬우며, 이후 트레이드오프 분석에서 무엇에 집중해야 하는지 명확히 해준다.
